webpackJsonp([17],{eSwI:function(t,e){},ivjr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("Au9i"),n=a("162o"),i={data:function(){return{formData:{pic:"",type:0},token:"",percentage:0}},methods:{getToken:function(){var t=this;this.$axios.qiniuGet().then(function(e){t.token=e.data})},upload:function(t){this.formData.pic="http://image.yaojunrong.com/"+t.key},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png",a=t.size/1024/1024/1024<2;return e||Object(o.Toast)("上传图片只能是 JPG或者PNG 格式!"),a||Object(o.Toast)("上传图片大小不能超过 20MB!"),e&&a},uploadImg:function(){var t=this;this.$axios.post("addTieZi",this.formData).then(function(e){return 500==e.code||400==e.code?(Object(o.Toast)({message:e.msg,position:"bottom",duration:1500}),void Object(n.setTimeout)(function(){t.$router.back()},1500)):200==e.code?(Object(o.Toast)({message:e.msg,position:"bottom",duration:1500}),void t.$axios.post("addJf",{jfNum:3,jfName:"上传个人总结"}).then(function(e){console.log(e),(e.code=200)&&Object(n.setTimeout)(function(){t.$router.back()},1500)})):void 0})},text:function(t,e,a){this.percentage=t.percent}},created:function(){this.getToken()}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://upload-z1.qiniup.com","show-file-list":!1,"on-success":t.upload,data:{token:t.token},"before-upload":t.beforeAvatarUpload,"on-progress":t.text}},[t.formData.pic?a("img",{staticClass:"avatar",staticStyle:{"z-index":"10"},attrs:{src:t.formData.pic}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{"z-index":"-10"}})]),t._v(" "),t.percentage?a("el-progress",{attrs:{percentage:t.percentage}}):t._e(),t._v(" "),a("div",{staticClass:"btn"},[a("mt-button",{attrs:{type:"danger",size:"large"},on:{click:t.uploadImg}},[t._v("上传个人总结")])],1)],1)},staticRenderFns:[]};var c=a("VU/8")(i,s,!1,function(t){a("eSwI")},"data-v-7e94350a",null);e.default=c.exports}});
//# sourceMappingURL=17.ec8badd2513372f9157d.js.map